# üìä –ú–æ–¥—É–ª—å –∞–Ω–∞–ª–∏–∑–∞ —Ç–∞–±–ª–∏—Ü —á–µ—Ä–µ–∑ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏

## –û–ø–∏—Å–∞–Ω–∏–µ

–ù–æ–≤—ã–π –º–æ–¥—É–ª—å –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ø–µ—Ä–≤—ã–µ N —Å—Ç—Ä–æ–∫ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã –≤ –Ω–µ–π—Ä–æ—Å–µ—Ç–µ–≤—ã–µ API (GigaChat –∏ Proxy API) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö. –ú–æ–¥—É–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         Frontend (HTML/JS)              ‚îÇ
‚îÇ  (POST /api/table-analysis)             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ
             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    Flask Backend (main.py)              ‚îÇ
‚îÇ  Route: /api/table-analysis (POST)      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ
             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   AnalysisService                       ‚îÇ
‚îÇ   analyze_table_first_rows(data, rows)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ                  ‚îÇ
    ‚ñº                  ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ GigaChatAPI  ‚îÇ  ‚îÇ ProxyAPI   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## API Endpoint

### POST `/api/table-analysis`

–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–µ—Ä–≤—ã–µ N —Å—Ç—Ä–æ–∫ —Ç–∞–±–ª–∏—Ü—ã –Ω–∞ –∞–Ω–∞–ª–∏–∑ –≤ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏.

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "rows_count": 15
}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `rows_count` (integer, optional): –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–≤—ã—Ö —Å—Ç—Ä–æ–∫ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 15)

**–û—Ç–≤–µ—Ç (—É—Å–ø–µ—Ö):**
```json
{
  "status": "success",
  "giga_result": "–ê–Ω–∞–ª–∏–∑ –æ—Ç GigaChat: –í–∏–¥–Ω—ã —á–µ—Ç–∫–∏–µ —Ç—Ä–µ–Ω–¥—ã...",
  "proxy_result": "–ê–Ω–∞–ª–∏–∑ –æ—Ç Proxy API: –ù–∞–±–ª—é–¥–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è...",
  "errors": {}
}
```

**–û—Ç–≤–µ—Ç (–æ—à–∏–±–∫–∞ - –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö):**
```json
{
  "status": "error",
  "message": "No data loaded. Please upload a file first.",
  "errors": {}
}
```

**–û—Ç–≤–µ—Ç (—á–∞—Å—Ç–∏—á–Ω–∞—è –æ—à–∏–±–∫–∞ - –æ–¥–∏–Ω –∏–∑ API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω):**
```json
{
  "status": "success",
  "giga_result": "–ê–Ω–∞–ª–∏–∑ –æ—Ç GigaChat...",
  "proxy_result": null,
  "errors": {
    "proxy_api": "Request timeout"
  }
}
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (Backend - Python)

### –ú–µ—Ç–æ–¥ `analyze_table_first_rows()`

```python
from app.services.analysis_service import AnalysisService
import pandas as pd

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–µ—Ä–≤–∏—Å
analysis_service = AnalysisService()

# –í–∞—Ä–∏–∞–Ω—Ç 1: DataFrame
df = pd.read_csv('data.csv')
results = analysis_service.analyze_table_first_rows(df, rows_count=15)

# –í–∞—Ä–∏–∞–Ω—Ç 2: –°–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π
data = [
    {'ID': 1, 'Name': 'Product_1', 'Price': 100},
    {'ID': 2, 'Name': 'Product_2', 'Price': 150},
    # ... –µ—â–µ 13 —Å—Ç—Ä–æ–∫
]
results = analysis_service.analyze_table_first_rows(data, rows_count=15)

# –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
if results['giga_result']:
    print("GigaChat –∞–Ω–∞–ª–∏–∑:", results['giga_result'])
else:
    print("GigaChat –æ—à–∏–±–∫–∞:", results['errors'].get('giga_chat'))

if results['proxy_result']:
    print("Proxy API –∞–Ω–∞–ª–∏–∑:", results['proxy_result'])
else:
    print("Proxy API –æ—à–∏–±–∫–∞:", results['errors'].get('proxy_api'))
```

### –§—É–Ω–∫—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞ –≤ main.py

```python
@app.route('/api/table-analysis', methods=['POST'])
def table_analysis():
    """–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–µ—Ä–≤—ã–µ N —Å—Ç—Ä–æ–∫ —Ç–∞–±–ª–∏—Ü—ã —á–µ—Ä–µ–∑ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏."""
    
    # –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ
    request_data = request.get_json() or {}
    rows_count = int(request_data.get('rows_count', 15))
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –∞–Ω–∞–ª–∏–∑
    results = analysis_service.analyze_table_first_rows(
        data_to_analyze, 
        rows_count=rows_count
    )
    
    return jsonify({
        "status": "success",
        "giga_result": results["giga_result"],
        "proxy_result": results["proxy_result"],
        "errors": results.get("errors", {})
    })
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (Frontend - JavaScript)

### –ü—Ä–∏–º–µ—Ä 1: –ê–Ω–∞–ª–∏–∑ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

```javascript
// –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (15 —Å—Ç—Ä–æ–∫)
async function analyzeTableDefault() {
  try {
    const response = await fetch('/api/table-analysis', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({})
    });
    
    const data = await response.json();
    
    if (data.status === 'success') {
      displayAnalysis(data.giga_result, data.proxy_result);
    } else {
      showError(data.message);
    }
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ:', error);
  }
}
```

### –ü—Ä–∏–º–µ—Ä 2: –ê–Ω–∞–ª–∏–∑ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å—Ç—Ä–æ–∫

```javascript
// –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 10 —Å—Ç—Ä–æ–∫
async function analyzeTableCustom() {
  const rowsCount = 10;
  
  try {
    const response = await fetch('/api/table-analysis', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        rows_count: rowsCount
      })
    });
    
    const data = await response.json();
    
    if (data.status === 'success') {
      // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
      if (data.giga_result) {
        document.getElementById('giga-analysis').textContent = data.giga_result;
      }
      
      if (data.proxy_result) {
        document.getElementById('proxy-analysis').textContent = data.proxy_result;
      }
      
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫–∏ –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å
      if (Object.keys(data.errors).length > 0) {
        console.warn('–ù–µ–∫–æ—Ç–æ—Ä—ã–µ API –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã:', data.errors);
      }
    }
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞:', error);
  }
}
```

### –ü—Ä–∏–º–µ—Ä 3: HTML —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```html
<!DOCTYPE html>
<html>
<head>
    <title>–ê–Ω–∞–ª–∏–∑ —Ç–∞–±–ª–∏—Ü—ã</title>
    <style>
        .analysis-container {
            display: flex;
            gap: 20px;
            margin: 20px;
        }
        
        .analysis-block {
            flex: 1;
            border: 1px solid #ccc;
            border-radius: 8px;
            padding: 15px;
            background-color: #f9f9f9;
        }
        
        .analysis-block h3 {
            margin-top: 0;
            color: #333;
        }
        
        .analysis-content {
            line-height: 1.6;
            color: #555;
        }
        
        .error {
            color: #d32f2f;
            background-color: #ffebee;
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
        }
        
        .loading {
            text-align: center;
            padding: 20px;
            color: #666;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3498db;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <h1>–ê–Ω–∞–ª–∏–∑ —Ç–∞–±–ª–∏—Ü—ã —á–µ—Ä–µ–∑ AI</h1>
    
    <!-- –ö–Ω–æ–ø–∫–∞ –∑–∞–ø—É—Å–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ -->
    <button onclick="startTableAnalysis()">–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–≤—ã–µ 15 —Å—Ç—Ä–æ–∫</button>
    <button onclick="analyzeTableCustom()">–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–≤—ã–µ 10 —Å—Ç—Ä–æ–∫</button>
    
    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <div id="loading" style="display: none;" class="loading">
        <div class="spinner"></div>
        <p>–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö...</p>
    </div>
    
    <!-- –ë–ª–æ–∫–∏ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –∞–Ω–∞–ª–∏–∑–∞ -->
    <div class="analysis-container" id="results" style="display: none;">
        <!-- GigaChat -->
        <div class="analysis-block">
            <h3>üìä –ê–Ω–∞–ª–∏–∑ GigaChat</h3>
            <div class="analysis-content" id="giga-analysis">
                –û–∂–∏–¥–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞...
            </div>
            <div id="giga-error" class="error" style="display: none;"></div>
        </div>
        
        <!-- Proxy API -->
        <div class="analysis-block">
            <h3>ü§ñ –ê–Ω–∞–ª–∏–∑ Proxy API</h3>
            <div class="analysis-content" id="proxy-analysis">
                –û–∂–∏–¥–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞...
            </div>
            <div id="proxy-error" class="error" style="display: none;"></div>
        </div>
    </div>
    
    <script>
        async function startTableAnalysis() {
            await analyzeTableDefault();
        }
        
        async function analyzeTableDefault() {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
            document.getElementById('loading').style.display = 'block';
            document.getElementById('results').style.display = 'none';
            
            try {
                const response = await fetch('/api/table-analysis', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({})
                });
                
                const data = await response.json();
                displayResults(data);
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ:', error);
                document.getElementById('loading').style.display = 'none';
                alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ: ' + error.message);
            }
        }
        
        async function analyzeTableCustom() {
            document.getElementById('loading').style.display = 'block';
            document.getElementById('results').style.display = 'none';
            
            try {
                const response = await fetch('/api/table-analysis', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ rows_count: 10 })
                });
                
                const data = await response.json();
                displayResults(data);
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞:', error);
                document.getElementById('loading').style.display = 'none';
                alert('–û—à–∏–±–∫–∞: ' + error.message);
            }
        }
        
        function displayResults(data) {
            document.getElementById('loading').style.display = 'none';
            document.getElementById('results').style.display = 'flex';
            
            // GigaChat —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            if (data.giga_result) {
                document.getElementById('giga-analysis').textContent = data.giga_result;
                document.getElementById('giga-error').style.display = 'none';
            } else if (data.errors.giga_chat) {
                document.getElementById('giga-analysis').textContent = '';
                document.getElementById('giga-error').textContent = '‚ùå –û—à–∏–±–∫–∞: ' + data.errors.giga_chat;
                document.getElementById('giga-error').style.display = 'block';
            }
            
            // Proxy API —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            if (data.proxy_result) {
                document.getElementById('proxy-analysis').textContent = data.proxy_result;
                document.getElementById('proxy-error').style.display = 'none';
            } else if (data.errors.proxy_api) {
                document.getElementById('proxy-analysis').textContent = '';
                document.getElementById('proxy-error').textContent = '‚ùå –û—à–∏–±–∫–∞: ' + data.errors.proxy_api;
                document.getElementById('proxy-error').style.display = 'block';
            }
        }
    </script>
</body>
</html>
```

## –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç (System Prompt)

–ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –≤ API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–π —Ñ–æ—Ä–º–∞—Ç —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞:

```
–¢—ã - –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å –±–æ–ª—å—à–∏–º –æ–ø—ã—Ç–æ–º. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ - –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–±–ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –¥–µ–ª–∞—Ç—å –≤—ã–≤–æ–¥—ã –∏ –Ω–∞—Ö–æ–¥–∏—Ç—å –∞–Ω–æ–º–∞–ª–∏–∏ –∏–ª–∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Ç–µ–Ω–¥–µ–Ω—Ü–∏–∏.

–í–æ—Ç –ø–µ—Ä–≤—ã–µ [N] —Å—Ç—Ä–æ–∫ —Ç–∞–±–ª–∏—Ü—ã:

[–¢–ê–ë–õ–ò–¶–ê]

–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ, –≤—ã–¥–µ–ª–∏ –∫–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏, –Ω–∞–π–¥–∏ –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–∏, –∞–Ω–æ–º–∞–ª–∏–∏ –∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Ç–µ–Ω–¥–µ–Ω—Ü–∏–∏. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å –∫—Ä–∞—Ç–∫–∏–π, –Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑.
```

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è

| –û—à–∏–±–∫–∞ | –ü—Ä–∏—á–∏–Ω–∞ | –†–µ—à–µ–Ω–∏–µ |
|--------|---------|---------|
| `No data loaded` | –§–∞–π–ª –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω | –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª —á–µ—Ä–µ–∑ `/api/upload` |
| `GigaChat API not initialized` | –¢–æ–∫–µ–Ω GigaChat –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `GIGACHAT_TOKEN` –≤ `.env` |
| `Proxy API not initialized` | API –∫–ª—é—á Proxy –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `PROXY_API_KEY` –≤ `.env` |
| `Request timeout` | API –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –≤ –æ—Ç–≤–µ–¥–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è | –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –ø–æ–∑–∂–µ |
| `Invalid data type` | –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö | –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ - DataFrame –∏–ª–∏ —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π |

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
cd d:\–ö—É—Ä—Å–æ—Ä\DataAnalitics_AI-Flask
.\.venv\Scripts\python.exe test_table_analysis.py
```

### –í–∫–ª—é—á–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

1. **test_analyze_table_first_rows_with_dataframe** - –∞–Ω–∞–ª–∏–∑ DataFrame
2. **test_analyze_table_first_rows_with_list** - –∞–Ω–∞–ª–∏–∑ —Å–ø–∏—Å–∫–∞ —Å–ª–æ–≤–∞—Ä–µ–π
3. **test_analyze_table_custom_rows_count** - –∞–Ω–∞–ª–∏–∑ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å—Ç—Ä–æ–∫
4. **test_error_handling** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API
5. **test_invalid_data_type** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ `logs/app.log`:

```
[INFO] TABLE ANALYSIS REQUEST RECEIVED
[INFO]   Rows count to analyze: 15
[INFO]   DataFrame size: 100 rows, 5 columns
[INFO]   ü§ñ Sending data to analysis service...
[INFO]   ‚úÖ Analysis completed successfully
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```javascript
// –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –∞–Ω–∞–ª–∏–∑
function onFileUploaded() {
  analyzeTableDefault(); // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–µ—Ä–≤—ã–µ 15 —Å—Ç—Ä–æ–∫
}
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑

```javascript
// –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ä–∞–∑–Ω—ã–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç—Ä–æ–∫ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
async function compareAnalysis() {
  const results = {};
  
  for (let rows of [5, 10, 15, 20]) {
    const response = await fetch('/api/table-analysis', {
      method: 'POST',
      body: JSON.stringify({ rows_count: rows })
    });
    results[rows] = await response.json();
  }
  
  // –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
  visualizeComparison(results);
}
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–π –ø–∞–Ω–µ–ª—å—é

```html
<div class="analytics-panel">
  <h2>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö</h2>
  
  <!-- –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ -->
  <div class="data-preview">
    <h3>–ü–µ—Ä–≤—ã–µ 15 —Å—Ç—Ä–æ–∫</h3>
    <table id="data-table"><!-- —Ç–∞–±–ª–∏—Ü–∞ –¥–∞–Ω–Ω—ã—Ö --></table>
  </div>
  
  <!-- AI –∞–Ω–∞–ª–∏–∑ -->
  <div class="ai-analysis">
    <h3>AI –ê–Ω–∞–ª–∏–∑</h3>
    <button onclick="runAnalysis()">–ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∞–ª–∏–∑</button>
    <div id="analysis-results"></div>
  </div>
</div>
```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ API**: 3-10 —Å–µ–∫—É–Ω–¥ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ç–∞–±–ª–∏—Ü—ã**: 100 000+ —Å—Ç—Ä–æ–∫
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã**: CSV, Excel, PDF
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞**: –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 5-50)

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–∞
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∞–Ω–∞–ª–∏–∑–∞
- [ ] –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–∞–±–ª–∏—Ü
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –æ–ø—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–º–ø—Ç–∞
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ AI –º–æ–¥–µ–ª—è–º–∏
- [ ] –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ PDF/Excel

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** 1.0  
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 27 –Ω–æ—è–±—Ä—è 2025  
**–ê–≤—Ç–æ—Ä:** AI Development Team
